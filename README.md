# Yomiage Web TTS（日本語特化）

貼り付けた日本語テキストを、ブラウザ組み込みの Web Speech API（SpeechSynthesis）のみで読み上げるシングルページ Web アプリです。データは端末外へ送信されず、ファイル保存も行いません。

## 特徴
- **Shadcn/UI + Tailwind によるモバイルフレンドリーな UI**  
  ボタン / スライダー / タブを再構成し、片手操作でも扱いやすいレイアウトに刷新。進行バーでシーク操作も可能です。
- **React + Vite 構成**  
- TypeScript 化とモジュール分割（分割器・再生キュー・音声検出・UI）を維持しつつ、ホットリロード可能な開発環境を提供します。
- **日本語向けテキスト分割の最適化**  
  句読点や箇条書きを考慮しつつ、短すぎるチャンクを自動的に連結して滑らかな読み上げに整えます。
- **速度調整と進行可視化**  
  速度スライダーは再生中でも続きから反映され、全体進行率と残り時間をバーで確認・シークできます。
- **ハイライトと Markdown プレビュー**  
  再生中のチャンクを自動スクロールで追従し、Markdown プレビューと切り替え可能です。
- **完全ローカル実行**  
  読み上げ設定（音声・速度・ピッチ）はブラウザ内で完結し、外部 API への送信は行いません。

## 技術スタック
- React 18 / TypeScript / Vite 5
- Tailwind CSS + Shadcn/UI コンポーネント
- Radix UI（Select / Tabs / Slider など）
- Web Speech API（SpeechSynthesis）

## 動作環境
- Node.js 18 以上（開発・ビルド時）
- 対応ブラウザ：Chrome / Edge 最新版、Safari 16+（iOS 含む）

## セットアップ
```bash
npm install
```

### 開発サーバー
```bash
npm run dev
```
`http://localhost:5173/` をブラウザで開いてください。ホットリロードに対応しています。

### 本番ビルド
```bash
npm run build
```
`dist/` に静的ファイルが生成されます。確認は次のコマンドで行えます。
```bash
npm run preview
```

## 使い方
1. 画面右側のテキストエリアへ長文を貼り付けます（保存はされません）。
2. 「音声」で日本語 voice を選択し、再生ボタンを押すと読み上げが始まります。
3. 速度は再生中でも続きから反映されます（ブラウザ仕様で `onboundary` 非対応の場合は次チャンクから反映）。
4. 進行バーをドラッグすると、任意の位置へシークできます。
5. タブで「テキスト」「Markdown」を切り替えてプレビューを確認できます。
6. キーボードショートカット  
   - `Space` : 再生 / 一時停止  
   - `[` / `]` : 前後チャンクへ移動  
   - `+` / `-` : 速度を ±0.05 ずつ変更

## 既知の制約
- ブラウザや OS に日本語 voice が存在しない場合は警告を表示し、再生できないことがあります。
- iOS / Safari ではオーディオ再生開始時にユーザー操作が必須です。
- バックグラウンド遷移時はブラウザ仕様により自動的に一時停止する場合があります。

## デプロイ
- GitHub Pages にデプロイする場合は `npm run build:pages` を実行すると `docs/` に静的ファイルが展開されます。
- リポジトリ設定で **Pages → Deploy from a branch → main /docs** を指定してください。

## ライセンス
MIT License  
Shadcn/UI コンポーネントは MIT ライセンスのテンプレートを基にしています。
